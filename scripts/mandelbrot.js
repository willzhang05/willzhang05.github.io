function colorGen(){return Math.floor(255*Math.random())}function mandelbrot(){for(var a=4/w,t=4/h,n=0;h>n;n++)for(var o=xp*a+(2-w*a),e=n*t+(2-h*t),c=0,l=0,d=0,p=0;100>p;p++)if(c=l,l=Math.pow(l,2)-Math.pow(d,2)+o,d=2*c*d+e,Math.sqrt(Math.pow(l,2)+Math.pow(d,2))>=2){data[p]=r,data[++p]=g,data[++p]=b,data[++p]=255,ctx.putImageData(imgData,xp,n);break}}function update(){xp++,mandelbrot(),xp>=w&&stopInterval()}function resetGen(){xp=0,r=colorGen(),g=colorGen(),b=colorGen()}function interval(){sI=setInterval(update,50)}function stopInterval(){clearInterval(sI)}var canvas=document.getElementById("mandelbrot"),ctx=canvas.getContext("2d"),w=canvas.width,h=canvas.height,xp=0,sI,imgData=ctx.getImageData(0,0,w,h),data=imgData.data,r=colorGen(),g=colorGen(),b=colorGen();
